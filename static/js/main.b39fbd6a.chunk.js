(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,n,t){e.exports=t(55)},31:function(e,n,t){},48:function(e,n,t){},55:function(e,n,t){"use strict";t.r(n);var o=t(0),s=t.n(o),a=t(15),i=t.n(a),l=t(16),r=(t(31),t(2)),c=t(3),u=t(5),g=t(4),b=t(6),p=t(7),h=t(14),m=t.n(h),d={publish:"pub-c-5f7cd7fc-4b91-4c69-a77e-42f3f5078a66",subscribe:"sub-c-9e229f4a-6802-11e9-81d5-56c3556875f9"},f=t(1),v=(t(10),t(12),t(13),function(e){function n(e){return Object(r.a)(this,n),Object(u.a)(this,Object(g.a)(n).call(this,e))}return Object(b.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement(f.Page,null,s.a.createElement("button",{onClick:function(){return e.props.showCoords()}},"visa koordinater"),s.a.createElement("button",{onClick:function(){return e.props.onSend("hej")}},"skick hej"))}}]),n}(o.Component)),j=function(e){function n(e){return Object(r.a)(this,n),Object(u.a)(this,Object(g.a)(n).call(this,e))}return Object(b.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement(f.Page,null,s.a.createElement("p",null,this.props.orientation),s.a.createElement("ul",null,this.props.messages.map(function(e,n){return s.a.createElement("li",{key:"message"+n},e.message.content+e.message.biggerLat)})))}}]),n}(o.Component),O=t(23),k=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(u.a)(this,Object(g.a)(n).call(this,e))).state={orientation:"funkar inte om detta \xe4r kvar",messages:[],messagesQ1:[],messagesQ2:[],messagesQ3:[],messagesQ4:[],messagesToDisplay:[]},t.pubnub=new m.a({publishKey:d.publish,subscribeKey:d.subscribe}),t.pubnub.init(Object(p.a)(Object(p.a)(t))),window.addEventListener("deviceorientation",function(e){console.log(this),this.setState({orientation:e.alpha})}.bind(Object(p.a)(Object(p.a)(t)))),t}return Object(b.a)(n,e),Object(c.a)(n,[{key:"componentWillMount",value:function(){var e=this;console.log(d),this.pubnub.subscribe({channels:["channel1"],withPresence:!0}),this.pubnub.getMessage("channel1",function(n){if(console.log(n),e.state.messages.push(n),e.props.isGeolocationAvailable&&e.props.isGeolocationEnabled){var t=e.props.coords,o=t.latitude,s=t.longitude;null!==o&&null!==s&&(n.message.biggerLat&&n.message.biggerLong?o>=n.message.coords.lat&&s>=n.message.coords.long&&e.state.messagesToDisplay.push(n):!n.message.biggerLat&&n.message.biggerLong?o<n.message.coords.lat&&s>=n.message.coords.long&&e.state.messagesToDisplay.push(n):n.message.biggerLat||n.message.biggerLong?n.message.biggerLat&&!n.message.biggerLong?o>=n.message.coords.lat&&s<n.message.coords.long&&e.state.messagesToDisplay.push(n):console.log("unknown direction :/"):o<n.message.coords.lat&&s<n.message.coords.long&&e.state.messagesToDisplay.push(n))}else console.log("Enable geolocation!")})}},{key:"componentWillUnmount",value:function(){this.pubnub.unsubscribe({channels:["channel1"]})}},{key:"send",value:function(e){var n,t,o,s=this.state.orientation;console.log(s),0<=s&&s<=90?(n=!0,t=!0):90<s&&s<=180?(n=!1,t=!0):180<s&&s<=270?(n=!1,t=!1):270<s&&s<360?(n=!0,t=!1):(console.log("default i switch case: z \xe4r "+s),n=null,t=null),console.log(s),console.log(t),this.props.isGeolocationAvailable&&this.props.isGeolocationEnabled?o={lat:this.props.coords.latitude,long:this.props.coords.longitude}:(o={lat:null,long:null},console.log(this.props.coords)),this.pubnub.publish({message:{content:e,biggerLat:n,biggerLong:t,coords:o},channel:"channel1"}),console.log(this.state.messages)}},{key:"showCoords",value:function(){alert("lat: "+this.props.coords.latitude+" long: "+this.props.coords.longitude)}},{key:"render",value:function(){var e=this;return s.a.createElement(f.Page,null,s.a.createElement(f.Tabbar,{onPreChange:function(n){var t=n.index;return e.setState({index:t})},onPostChange:function(){return console.log("postChange")},onReactive:function(){return console.log("postChange")},position:"bottom",index:this.state.index,renderTabs:function(n,t){return[{content:s.a.createElement(f.Page,{key:"Feed"},s.a.createElement(v,{onSend:function(n){return e.send(n)},showCoords:function(){return e.showCoords()}})),tab:s.a.createElement(f.Tab,{label:"Feed",icon:"fa-headphones",key:"FeedTab"})},{content:s.a.createElement(f.Page,{key:"Upload"},s.a.createElement(j,{messages:e.props.isGeolocationAvailable&&e.props.isGeolocationEnabled?e.state.messagesToDisplay:e.state.messages,orientation:e.state.orientation})),tab:s.a.createElement(f.Tab,{label:"Upload",icon:"fa-microphone",key:"UploadTab"})}]}}))}}]),n}(o.Component),y=Object(O.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(k),E=(t(48),function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(g.a)(n).apply(this,arguments))}return Object(b.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(y,null))}}]),n}(o.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(l.a,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.b39fbd6a.chunk.js.map