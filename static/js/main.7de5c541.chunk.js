(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(53)},30:function(e,t,n){},46:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(15),r=n.n(o),c=n(16),s=(n(30),n(2)),l=n(3),u=n(5),m=n(4),b=n(6),h=n(7),f=n(14),g=n.n(f),p={publish:"pub-c-5f7cd7fc-4b91-4c69-a77e-42f3f5078a66",subscribe:"sub-c-9e229f4a-6802-11e9-81d5-56c3556875f9"},d=n(1),v=(n(9),n(12),n(13),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={text:"Write your message here!"},n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(d.Page,null,i.a.createElement("center",null,i.a.createElement("p",null,"Sending messages to the"),i.a.createElement("h1",{style:{fontFamily:"Lucida Sans Typewriter, American Typewriter"}},this.props.getDirectionOfDevice()),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.props.onSend(e.state.text)}},i.a.createElement(d.Input,{style:{fontFamily:"Lucida Sans Typewriter, American Typewriter"},value:this.state.text,onChange:function(t){e.setState({text:t.target.value})},modifier:"material",placeholder:"Username"})),i.a.createElement(d.Button,{onClick:function(){return e.props.onSend(e.state.text)},style:{backgroundColor:"black",marginTop:"1em"}},"Send message!")))}}]),t}(a.Component)),y=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(d.Page,null,i.a.createElement("center",null,i.a.createElement("p",null,"Receiving messages from the"),i.a.createElement("h1",{style:{fontFamily:"Lucida Sans Typewriter, American Typewriter"}},this.props.getDirectionOfDevice()),i.a.createElement("hr",null)),i.a.createElement("ul",null,this.props.messages.map(function(e,t){return i.a.createElement("li",{key:"message"+t},i.a.createElement("b",null,e.message.direction)," ",": "+e.message.content)})))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={orientation:"funkar inte om detta \xe4r kvar",messages:[],messagesToDisplay:[]},n.pubnub=new g.a({publishKey:p.publish,subscribeKey:p.subscribe}),n.pubnub.init(Object(h.a)(Object(h.a)(n))),window.addEventListener("deviceorientation",function(e){console.log(this),this.setState({orientation:e.alpha})}.bind(Object(h.a)(Object(h.a)(n)))),n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(p),this.pubnub.subscribe({channels:["channel1"],withPresence:!0});this.state.orientation;this.pubnub.getMessage("channel1",function(t){console.log(t),e.state.messages.push(t),t.message.direction===e.getDirectionOfDevice()&&"Unknown"!==t.message.direction?e.state.messagesToDisplay.push(t):console.log("unknown direction :/")})}},{key:"componentWillUnmount",value:function(){this.pubnub.unsubscribe({channels:["channel1"]})}},{key:"getDirectionOfDevice",value:function(){var e,t=this.state.orientation;return 315<=t||t<=45?e="North":45<t&&t<=135?e="East":135<t&&t<=225?e="South":225<t&&t<315?e="West":(console.log("default i switch case: z \xe4r "+t),e="Unknown"),e}},{key:"send",value:function(e){console.log(e);var t=this.getDirectionOfDevice();this.pubnub.publish({message:{content:e,direction:t},channel:"channel1"}),console.log(this.state.messages)}},{key:"render",value:function(){var e=this;return i.a.createElement(d.Page,null,i.a.createElement(d.Tabbar,{onPreChange:function(t){var n=t.index;return e.setState({index:n})},onPostChange:function(){return console.log("postChange")},onReactive:function(){return console.log("postChange")},position:"bottom",index:this.state.index,renderTabs:function(t,n){return[{content:i.a.createElement(d.Page,{key:"Send"},i.a.createElement(v,{onSend:function(t){return e.send(t)},getDirectionOfDevice:function(){return e.getDirectionOfDevice()}})),tab:i.a.createElement(d.Tab,{label:"Send",icon:"fa-volume-up",key:"SendTab"})},{content:i.a.createElement(d.Page,{key:"Receive"},i.a.createElement(y,{messages:"Unknown"===e.getDirectionOfDevice()?e.state.messages:e.state.messagesToDisplay,orientation:e.state.orientation,getDirectionOfDevice:function(){return e.getDirectionOfDevice()}})),tab:i.a.createElement(d.Tab,{label:"Receive",icon:"fa-eye",key:"ReceiveTab"})}]}}))}}]),t}(a.Component),E=(n(46),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O,null))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(c.a,null,i.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.7de5c541.chunk.js.map